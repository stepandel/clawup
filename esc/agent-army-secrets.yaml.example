# Pulumi ESC Environment Template: agent-army-dev
#
# This file documents all secrets required for the agent-army multi-agent stack.
# Copy this structure to your Pulumi ESC environment.
#
# Setup:
#   1. Create environment: pulumi env init <org>/agent-army-dev
#   2. Edit environment: pulumi env edit <org>/agent-army-dev
#   3. Copy the structure below and fill in your values
#
# Reference: https://www.pulumi.com/docs/esc/

values:
  # =========================================================================
  # REQUIRED - Shared Credentials
  # =========================================================================

  # Anthropic API key for all agents
  # Get from: https://console.anthropic.com/account/keys
  anthropicApiKey:
    fn::secret: "sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

  # Tailscale auth key (reusable, ephemeral recommended for auto-cleanup)
  # Get from: https://login.tailscale.com/admin/settings/keys
  # Settings: Reusable=yes, Ephemeral=yes, Expiry=90 days
  tailscaleAuthKey:
    fn::secret: "tskey-auth-XXXXXXXXXXXXXXXX-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

  # Your Tailnet DNS name
  # Find at: https://login.tailscale.com/admin/dns
  # Example: tail12345.ts.net
  tailnetDnsName: "YOUR_TAILNET.ts.net"

  # Owner name (used in workspace file templates)
  ownerName: "Your Name"

  # =========================================================================
  # OPTIONAL - Per-Agent Slack Credentials (Socket Mode)
  # =========================================================================
  # Create a Slack app for each agent with Socket Mode enabled.
  # Get from: https://api.slack.com/apps
  #
  # Required:
  #   - Bot Token (xoxb-...): OAuth & Permissions > Bot User OAuth Token
  #   - App Token (xapp-...): Basic Information > App-Level Tokens (connections:write scope)
  #
  # Required Bot Token scopes: 
  #   chat:write, channels:history, channels:read, users:read, 
  #   app_mentions:read, im:history, im:read, im:write

  # PM Agent (Sage) - Slack
  pmSlackBotToken:
    fn::secret: "xoxb-PM-SLACK-BOT-TOKEN"
  pmSlackAppToken:
    fn::secret: "xapp-PM-SLACK-APP-TOKEN"

  # Eng Agent (Atlas) - Slack
  engSlackBotToken:
    fn::secret: "xoxb-ENG-SLACK-BOT-TOKEN"
  engSlackAppToken:
    fn::secret: "xapp-ENG-SLACK-APP-TOKEN"

  # Tester Agent (Scout) - Slack
  testerSlackBotToken:
    fn::secret: "xoxb-TESTER-SLACK-BOT-TOKEN"
  testerSlackAppToken:
    fn::secret: "xapp-TESTER-SLACK-APP-TOKEN"

  # =========================================================================
  # OPTIONAL - Per-Agent Linear Credentials
  # =========================================================================
  # Create personal API keys or use OAuth tokens for each agent.
  # Get from: https://linear.app/settings/api

  # PM Agent (Sage) - Linear (read + write for project tracking)
  pmLinearApiKey:
    fn::secret: "lin_api_PM_TOKEN"

  # Eng Agent (Atlas) - Linear (read + write for ticket updates)
  engLinearApiKey:
    fn::secret: "lin_api_ENG_TOKEN"

  # Tester Agent (Scout) - Linear (read + write for verification status)
  testerLinearApiKey:
    fn::secret: "lin_api_TESTER_TOKEN"

  # =========================================================================
  # OPTIONAL - Per-Agent Brave Search API Keys
  # =========================================================================
  # Get from: https://brave.com/search/api/

  pmBraveSearchApiKey:
    fn::secret: "BSA-PM-API-KEY"
  engBraveSearchApiKey:
    fn::secret: "BSA-ENG-API-KEY"
  testerBraveSearchApiKey:
    fn::secret: "BSA-TESTER-API-KEY"

  # =========================================================================
  # OPTIONAL - Additional Credentials
  # =========================================================================
  # Add more secrets as needed for your agents:
  #
  # GitHub tokens:
  # pmGithubToken:
  #   fn::secret: "ghp_PM_TOKEN"
  #
  # AWS credentials (if agents need direct AWS access):
  # awsAccessKeyId:
  #   fn::secret: "AKIAXXXXXXXXXXXXXXXX"
  # awsSecretAccessKey:
  #   fn::secret: "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

# =========================================================================
# Environment Inheritance (Optional)
# =========================================================================
# You can import from other ESC environments:
#
# imports:
#   - org/shared-credentials
#
# This lets you share common secrets (like anthropicApiKey) across projects.
